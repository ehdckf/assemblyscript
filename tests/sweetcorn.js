// import fs from "fs";
const fs = require("fs");
// const code = fs.readFileSync("./build/sweetcorn.wasm");
const code = Buffer.from(
        "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HGFzc2VtYmx5L3N3ZWV0Y29ybi9mZF9zdGRvdXQDJn5saWIvcnQvaXRjbXMvT2JqZWN0I3NldDpuZXh0V2l0aENvbG9yBB1+bGliL3J0L2l0Y21zL09iamVjdCNzZXQ6cHJldgUWfmxpYi9ydC9pdGNtcy9pbml0TGF6eQYmfmxpYi9ydC9pdGNtcy9PYmplY3QjZ2V0Om5leHRXaXRoQ29sb3IHHX5saWIvcnQvaXRjbXMvT2JqZWN0I2dldDpuZXh0CB5+bGliL3J0L2l0Y21zL09iamVjdCNnZXQ6Y29sb3IJGH5saWIvcnQvaXRjbXMvdmlzaXRSb290cwoefmxpYi9ydC9pdGNtcy9PYmplY3Qjc2V0OmNvbG9yCx1+bGliL3J0L2l0Y21zL09iamVjdCNnZXQ6cHJldgwdfmxpYi9ydC9pdGNtcy9PYmplY3Qjc2V0Om5leHQNG35saWIvcnQvaXRjbXMvT2JqZWN0I3VubGluaw4dfmxpYi9ydC9pdGNtcy9PYmplY3QjZ2V0OnJ0SWQPJ35saWIvc2hhcmVkL3R5cGVpbmZvL1R5cGVpbmZvI2dldDpmbGFncxASfmxpYi9ydC9fX3R5cGVpbmZvESZ+bGliL3J0L2l0Y21zL09iamVjdCNnZXQ6aXNQb2ludGVyZnJlZRIbfmxpYi9ydC9pdGNtcy9PYmplY3QjbGlua1RvEx1+bGliL3J0L2l0Y21zL09iamVjdCNtYWtlR3JheRQVfmxpYi9ydC9pdGNtcy9fX3Zpc2l0FRh+bGliL3J0L2l0Y21zL3Zpc2l0U3RhY2sWH35saWIvcnQvY29tbW9uL0JMT0NLI2dldDptbUluZm8XHX5saWIvcnQvaXRjbXMvT2JqZWN0I2dldDpzaXplGBt+bGliL3J0L3Rsc2YvUm9vdCNzZXQ6ZmxNYXAZH35saWIvcnQvY29tbW9uL0JMT0NLI3NldDptbUluZm8aG35saWIvcnQvdGxzZi9CbG9jayNzZXQ6cHJldhsbfmxpYi9ydC90bHNmL0Jsb2NrI3NldDpuZXh0HBt+bGliL3J0L3Rsc2YvQmxvY2sjZ2V0OnByZXYdG35saWIvcnQvdGxzZi9CbG9jayNnZXQ6bmV4dB4bfmxpYi9ydC90bHNmL1Jvb3QjZ2V0OmZsTWFwHxh+bGliL3J0L3Rsc2YvcmVtb3ZlQmxvY2sgGH5saWIvcnQvdGxzZi9pbnNlcnRCbG9jayEWfmxpYi9ydC90bHNmL2FkZE1lbW9yeSIXfmxpYi9ydC90bHNmL2luaXRpYWxpemUjG35saWIvcnQvdGxzZi9jaGVja1VzZWRCbG9jayQWfmxpYi9ydC90bHNmL2ZyZWVCbG9jayUTfmxpYi9ydC90bHNmL19fZnJlZSYSfmxpYi9ydC9pdGNtcy9mcmVlJxJ+bGliL3J0L2l0Y21zL3N0ZXAoF35saWIvcnQvaXRjbXMvaW50ZXJydXB0KRh+bGliL3J0L3Rsc2YvY29tcHV0ZVNpemUqGH5saWIvcnQvdGxzZi9wcmVwYXJlU2l6ZSsWfmxpYi9ydC90bHNmL3JvdW5kU2l6ZSwYfmxpYi9ydC90bHNmL3NlYXJjaEJsb2NrLRd+bGliL3J0L3Rsc2YvZ3Jvd01lbW9yeS4ZfmxpYi9ydC90bHNmL3ByZXBhcmVCbG9jay8afmxpYi9ydC90bHNmL2FsbG9jYXRlQmxvY2swFH5saWIvcnQvdGxzZi9fX2FsbG9jMR1+bGliL3J0L2l0Y21zL09iamVjdCNzZXQ6cnRJZDIffmxpYi9ydC9pdGNtcy9PYmplY3Qjc2V0OnJ0U2l6ZTMTfmxpYi9ydC9pdGNtcy9fX25ldzQTfmxpYi9ydC9fX25ld0J1ZmZlcjUUfmxpYi9ydC9pdGNtcy9fX2xpbms2IH5saWIvYXJyYXkvQXJyYXk8dTg+I2dldDpsZW5ndGhfNy9+bGliL2FycmF5YnVmZmVyL0FycmF5QnVmZmVyVmlldyNnZXQ6Ynl0ZUxlbmd0aDgrfmxpYi9hcnJheWJ1ZmZlci9BcnJheUJ1ZmZlclZpZXcjZ2V0OmJ1ZmZlcjkffmxpYi9ydC9pdGNtcy9PYmplY3QjZ2V0OnJ0U2l6ZToVfmxpYi9ydC9pdGNtcy9fX3JlbmV3OyJ+bGliL2FycmF5L0FycmF5PHU4PiNnZXQ6ZGF0YVN0YXJ0PCB+bGliL2FycmF5L0FycmF5PHU4PiNzZXQ6bGVuZ3RoXz0XfmxpYi9ydC9fX3Zpc2l0X2dsb2JhbHM+Jn5saWIvYXJyYXlidWZmZXIvQXJyYXlCdWZmZXJWaWV3fnZpc2l0Pxh+bGliL29iamVjdC9PYmplY3R+dmlzaXRAH35saWIvYXJyYXkvQXJyYXk8dTg+I2dldDpidWZmZXJBGn5saWIvYXJyYXkvQXJyYXk8dTg+fnZpc2l0QiB+bGliL2FycmF5L0FycmF5PGkzMj4jZ2V0OmJ1ZmZlckMbfmxpYi9hcnJheS9BcnJheTxpMzI+fnZpc2l0RBd+bGliL3J0L19fdmlzaXRfbWVtYmVyc0UGfnN0YXJ0Rgx+c3RhY2tfY2hlY2tHGX5saWIvYXJyYXkvZW5zdXJlQ2FwYWNpdHlIGX5saWIvYXJyYXkvQXJyYXk8dTg+I3B1c2hJH35saWIvYXJyYXkvQXJyYXk8dTg+I2dldDpsZW5ndGhKGn5saWIvYXJyYXkvQXJyYXk8dTg+I19fZ2V0Sxxhc3NlbWJseS9zd2VldGNvcm4vc3dlZXRDb3JuTBx+bGliL2FycmF5L0FycmF5PHU4PiNfX3Zpc2l0TR1+bGliL2FycmF5L0FycmF5PGkzMj4jX192aXNpdE4SfmxpYi9ydC9fX25ld0FycmF5Ap0PRAMCAAR0aGlzAQ1uZXh0V2l0aENvbG9yBAIABHRoaXMBBHByZXYFAQAFc3BhY2UGAQAEdGhpcwcBAAR0aGlzCAEABHRoaXMJAwAGY29va2llAQJwbgIEaXRlcgoCAAR0aGlzAQVjb2xvcgsBAAR0aGlzDAIABHRoaXMBA29iag0DAAR0aGlzAQRuZXh0AgRwcmV2DgEABHRoaXMPAQAEdGhpcxACAAJpZAEDcHRyEQIABHRoaXMBBHJ0SWQSBAAEdGhpcwEEbGlzdAIJd2l0aENvbG9yAwRwcmV2EwIABHRoaXMBATEUAwADcHRyAQZjb29raWUCA29iahUCAAZjb29raWUBA3B0chYBAAR0aGlzFwEABHRoaXMYAgAEdGhpcwEFZmxNYXAZAgAEdGhpcwEGbW1JbmZvGgIABHRoaXMBBHByZXYbAgAEdGhpcwEEbmV4dBwBAAR0aGlzHQEABHRoaXMeAQAEdGhpcx8YAARyb290AQVibG9jawIJYmxvY2tJbmZvAwRzaXplBAJmbAUCc2wGATYHATcIC2JvdW5kZWRTaXplCQRwcmV2CgRuZXh0Cwdyb290fDExDAVmbHwxMg0Fc2x8MTMOB3Jvb3R8MTQPBWZsfDE1EAVzbHwxNhEEaGVhZBIHcm9vdHwxOBMFZmx8MTkUBXNsTWFwFQdyb290fDIxFgVmbHwyMhcIc2xNYXB8MjMgHQAEcm9vdAEFYmxvY2sCCWJsb2NrSW5mbwMHYmxvY2t8MwQFcmlnaHQFCXJpZ2h0SW5mbwYHYmxvY2t8NgcHYmxvY2t8NwgEbGVmdAkIbGVmdEluZm8KBHNpemULAmZsDAJzbA0CMTMOAjE0Dwtib3VuZGVkU2l6ZRAHcm9vdHwxNhEFZmx8MTcSBXNsfDE4EwRoZWFkFAdyb290fDIwFQVmbHwyMRYFc2x8MjIXB2hlYWR8MjMYB3Jvb3R8MjQZBWZsfDI1Ggdyb290fDI2GwVmbHwyNxwFc2xNYXAhDAAEcm9vdAEFc3RhcnQCBmVuZFU2NAMDZW5kBAZyb290fDQFBHRhaWwGCHRhaWxJbmZvBwRzaXplCAhsZWZ0U2l6ZQkEbGVmdAoHcm9vdHwxMAsHdGFpbHwxMSIQAApyb290T2Zmc2V0AQtwYWdlc0JlZm9yZQILcGFnZXNOZWVkZWQDBHJvb3QEBnJvb3R8NAUEdGFpbAYCZmwHBnJvb3R8NwgEZmx8OAkFc2xNYXAKAnNsCwdyb290fDExDAVmbHwxMg0Fc2x8MTMOBGhlYWQPCG1lbVN0YXJ0IwIAA3B0cgEFYmxvY2skAgAEcm9vdAEFYmxvY2slAQADcHRyJgEAA29iaicEAANvYmoBATECBWJsYWNrAwRmcm9tKAEABmJ1ZGdldCkBAARzaXplKgEABHNpemUrAQAEc2l6ZSwSAARyb290AQRzaXplAgJmbAMCc2wEC3JlcXVlc3RTaXplBQZyb290fDUGBGZsfDYHBXNsTWFwCARoZWFkCQVmbE1hcAoHcm9vdHwxMAsFZmx8MTEMB3Jvb3R8MTINBWZsfDEzDgVzbHwxNA8Hcm9vdHwxNRAFZmx8MTYRBXNsfDE3LQkABHJvb3QBBHNpemUCC3BhZ2VzQmVmb3JlAwZyb290fDMEC3BhZ2VzTmVlZGVkBQE1BgE2BwtwYWdlc1dhbnRlZAgKcGFnZXNBZnRlci4IAARyb290AQVibG9jawIEc2l6ZQMJYmxvY2tJbmZvBAlyZW1haW5pbmcFBXNwYXJlBgdibG9ja3w2BwdibG9ja3w3LwQABHJvb3QBBHNpemUCC3BheWxvYWRTaXplAwVibG9jazABAARzaXplMQIABHRoaXMBBHJ0SWQyAgAEdGhpcwEGcnRTaXplMwQABHNpemUBAmlkAgNvYmoDA3B0cjQEAARzaXplAQJpZAIEZGF0YQMGYnVmZmVyNQYACXBhcmVudFB0cgEIY2hpbGRQdHICDmV4cGVjdE11bHRpcGxlAwVjaGlsZAQGcGFyZW50BQtwYXJlbnRDb2xvcjYBAAR0aGlzNwEABHRoaXM4AQAEdGhpczkBAAR0aGlzOgYABm9sZFB0cgEEc2l6ZQIGb2xkT2JqAwZuZXdQdHIEATQFATU7AQAEdGhpczwCAAR0aGlzAQdsZW5ndGhfQAEABHRoaXNCAQAEdGhpc0cOAAVhcnJheQEHbmV3U2l6ZQIJYWxpZ25Mb2cyAwdjYW5Hcm93BAtvbGRDYXBhY2l0eQUHb2xkRGF0YQYBNgcBNwgLbmV3Q2FwYWNpdHkJATkKAjEwCwIxMQwCMTINB25ld0RhdGFIBAAEdGhpcwEFdmFsdWUCBm9sZExlbgMDbGVuSQEABHRoaXNKAwAEdGhpcwEFaW5kZXgCBXZhbHVlSwkABGJ5dGUBA2lvdgIBTgMGbGVuZ3RoBAE0BQE1BgRsaW5lBwFpCANpfDhMAgAEdGhpcwEGY29va2llTQIABHRoaXMBBmNvb2tpZU4HAAZsZW5ndGgBCWFsaWduTG9nMgICaWQDBGRhdGEECmJ1ZmZlclNpemUFBmJ1ZmZlcgYFYXJyYXkFBAEAATAH8AMTACB+bGliL3NoYXJlZC9ydW50aW1lL1J1bnRpbWUuU3R1YgEjfmxpYi9zaGFyZWQvcnVudGltZS9SdW50aW1lLk1pbmltYWwCJ35saWIvc2hhcmVkL3J1bnRpbWUvUnVudGltZS5JbmNyZW1lbnRhbAMTfmxpYi9ydC9pdGNtcy90b3RhbAQXfmxpYi9ydC9pdGNtcy90aHJlc2hvbGQFE35saWIvcnQvaXRjbXMvc3RhdGUGGH5saWIvcnQvaXRjbXMvdmlzaXRDb3VudAcWfmxpYi9ydC9pdGNtcy9waW5TcGFjZQgSfmxpYi9ydC9pdGNtcy9pdGVyCRV+bGliL3J0L2l0Y21zL3RvU3BhY2UKE35saWIvcnQvaXRjbXMvd2hpdGULF35saWIvcnQvaXRjbXMvZnJvbVNwYWNlDBF+bGliL3J0L3Rsc2YvUk9PVA0gfmxpYi9uYXRpdmUvQVNDX0xPV19NRU1PUllfTElNSVQOF35saWIvbmF0aXZlL0FTQ19SVU5USU1FDxN+bGliL3J0L19fcnR0aV9iYXNlEBZ+bGliL21lbW9yeS9fX2RhdGFfZW5kERt+bGliL21lbW9yeS9fX3N0YWNrX3BvaW50ZXISF35saWIvbWVtb3J5L19faGVhcF9iYXNlCAQBAAEwACYQc291cmNlTWFwcGluZ1VSTBQuL3N3ZWV0Y29ybi53YXNtLm1hcA==",
        "base64",
);

let wasm_memory;

WebAssembly.instantiate(code, {
        env: {
                fd_stdin: (iov) => {
                        const [addr] = new Uint32Array(wasm_memory.buffer, iov, 1);
                        // const STDIN = 0;
                        return fs.readSync(0, new Uint8Array(wasm_memory.buffer, addr));
                },
                fd_stdout: (iov) => {
                        // const [addr] = new Uint32Array(wasm_memory.buffer, iov, 1);
                        // console.log(addr);
                        // const STD_OUT = 1;
                        console.log(new Uint32Array(wasm_memory.buffer, iov, 1)[0]);
                        // fs.writeSync(1, new Uint32Array(wasm_memory.buffer, iov, 1), 0, 1);
                        // console.log(Buffer.from(wasm_memory.buffer, addr, limit).toString("utf-8"));
                },

                abort: () => {},
                "console.log": (msg) => {
                        console.log(Buffer.from(wasm_memory.buffer, msg, 1).toString("utf-8"));
                },
        },
}).then(async (wasm) => {
        const { sweetCorn, memory } = wasm.instance.exports;
        // 웹어셈블리 인스턴스에는
        // sweetCorn 라는 함수와 웹어셈블리 memory 가 있음.
        // 인풋을 그냥 파라미터로 받아서 memory는 딱히 필요 없음??
        memory.grow(100);
        // 메모리 사이즈를 키워주는 거 같음? 지금은 필요없음
        wasm_memory = memory;
        // wasm_memory 가 momory 를 참조하도록함.
        sweetCorn();
});
